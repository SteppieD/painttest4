<!DOCTYPE html>
<html>
<head>
    <title>Premium Test Helper</title>
    <style>
        body { 
            font-family: system-ui; 
            max-width: 600px; 
            margin: 50px auto; 
            padding: 20px;
            background: #f5f5f5;
        }
        .card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        button {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin-right: 10px;
            margin-bottom: 10px;
        }
        button:hover {
            background: #2563eb;
        }
        .success { color: #10b981; }
        .error { color: #ef4444; }
        .info { color: #6b7280; }
        pre {
            background: #f3f4f6;
            padding: 10px;
            border-radius: 4px;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <h1>üéØ Premium Account Test Helper</h1>
    
    <div class="card">
        <h2>Current Status</h2>
        <div id="status"></div>
    </div>

    <div class="card">
        <h2>Actions</h2>
        <button onclick="clearSession()">1. Clear Current Session</button>
        <button onclick="setPremiumData()">2. Set Premium Data</button>
        <button onclick="goToLogin()">3. Go to Login</button>
        <button onclick="goToDashboard()">4. Go to Dashboard</button>
    </div>

    <div class="card">
        <h2>Premium Credentials</h2>
        <p><strong>Access Code:</strong> PREMIUM2024</p>
        <p><strong>Email:</strong> premium@test.com</p>
        <p><strong>Password:</strong> premium123</p>
    </div>

    <div class="card">
        <h2>Debug Info</h2>
        <pre id="debug"></pre>
    </div>

    <script>
        function checkStatus() {
            const data = localStorage.getItem('paintquote_company');
            const status = document.getElementById('status');
            const debug = document.getElementById('debug');
            
            if (data) {
                const company = JSON.parse(data);
                const isPro = company.subscription_tier && company.subscription_tier !== 'free';
                
                status.innerHTML = `
                    <p class="${isPro ? 'success' : 'error'}">
                        <strong>Logged in as:</strong> ${company.name}
                    </p>
                    <p class="${isPro ? 'success' : 'info'}">
                        <strong>Tier:</strong> ${company.subscription_tier || 'free'} 
                        ${isPro ? '‚úÖ' : '‚ùå'}
                    </p>
                    <p class="info">
                        <strong>Quote Limit:</strong> ${company.monthly_quote_limit === -1 ? 'Unlimited' : company.monthly_quote_limit || 5}
                    </p>
                `;
                
                debug.textContent = JSON.stringify(company, null, 2);
            } else {
                status.innerHTML = '<p class="info">Not logged in</p>';
                debug.textContent = 'No session data';
            }
        }

        function clearSession() {
            localStorage.removeItem('paintquote_company');
            document.cookie = 'pq_session=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';
            checkStatus();
            alert('Session cleared! You can now log in fresh.');
        }

        function setPremiumData() {
            const premiumCompany = {
                id: 77,
                access_code: 'PREMIUM2024',
                name: 'Premium Test Company',
                phone: '(555) 999-8888',
                email: 'premium@test.com',
                logoUrl: null,
                subscription_tier: 'professional',
                monthly_quote_limit: -1,
                loginTime: Date.now(),
                isNewCompany: false,
                onboarding_completed: true
            };
            
            localStorage.setItem('paintquote_company', JSON.stringify(premiumCompany));
            checkStatus();
            alert('Premium data set! Dashboard should now show professional features.');
        }

        function goToLogin() {
            window.location.href = 'http://localhost:3005/access-code';
        }

        function goToDashboard() {
            window.location.href = 'http://localhost:3005/dashboard';
        }

        // Check status on load
        checkStatus();
        
        // Auto-refresh every 2 seconds
        setInterval(checkStatus, 2000);
    </script>
</body>
</html>